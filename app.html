<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Koteky</title>
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <script>
    window.$ = window.jQuery = require('jquery');
    window.$ = window.bootstrap = require('bootstrap');
    require('electron-stylus')(__dirname + '/style/index.styl');
    </script>
  </head>
  <body>
        <div id="app">
            <div class="container">
                <div class="row">
                    <div class="editor" data-spy="affix">
                            <div class="form-group">
                                <textarea class="form-control" id="contentText" v-model="comment" rows="3"></textarea>
                            </div>
                            <button class="btn btn-default pull-right" v-on:click="send">Send</button>
                    </div>
                </div>
                <div class="row">
                    <div class="post-stream">
                        <template v-for="post in model.posts">
                            <post :data="post" />
                        </template>
                    </div>
                </div>
        </div>
        <script type="text/javascript">
            var viewModel = require('./lib/main/app-view-model');
            var model = require('./lib/main/app-model');
            var ipc = require('ipc');
            var electron = require('electron');
            var BrowserWindow = electron.remote.BrowserWindow;
            var localwindow = new BrowserWindow({show: false, webPreferences: {nodeIntegration: false}});

            ipc.on('initialize', function(settings) {
                var modelObj = new model([], settings, window, localwindow);
                var viewModelObj = new viewModel(window, modelObj);
            });
        </script>
    </body>
</html>
